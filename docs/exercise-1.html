<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Measurement error - Estimating measurement error (variance) in survey questions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Measurement error</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Estimating measurement error (variance) in survey questions</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Special topics</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercise-1.html" class="sidebar-item-text sidebar-link active">Estimating measurement error (variance) in survey questions</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#preliminaries" id="toc-preliminaries" class="nav-link active" data-scroll-target="#preliminaries">Preliminaries</a></li>
  <li><a href="#a-first-look-at-the-european-social-survey-data" id="toc-a-first-look-at-the-european-social-survey-data" class="nav-link" data-scroll-target="#a-first-look-at-the-european-social-survey-data">A first look at the European Social Survey data</a>
  <ul class="collapse">
  <li><a href="#exercise-1.1" id="toc-exercise-1.1" class="nav-link" data-scroll-target="#exercise-1.1">Exercise 1.1</a></li>
  </ul></li>
  <li><a href="#criterion-correlations" id="toc-criterion-correlations" class="nav-link" data-scroll-target="#criterion-correlations">Criterion correlations</a>
  <ul class="collapse">
  <li><a href="#exercise-1.2" id="toc-exercise-1.2" class="nav-link" data-scroll-target="#exercise-1.2">Exercise 1.2</a></li>
  <li><a href="#exercise-1.3" id="toc-exercise-1.3" class="nav-link" data-scroll-target="#exercise-1.3">Exercise 1.3</a></li>
  <li><a href="#exercise-1.4" id="toc-exercise-1.4" class="nav-link" data-scroll-target="#exercise-1.4">Exercise 1.4</a></li>
  </ul></li>
  <li><a href="#internal-consistency-with-factor-analysis" id="toc-internal-consistency-with-factor-analysis" class="nav-link" data-scroll-target="#internal-consistency-with-factor-analysis">Internal consistency with factor analysis</a>
  <ul class="collapse">
  <li><a href="#exercise-1.5" id="toc-exercise-1.5" class="nav-link" data-scroll-target="#exercise-1.5">Exercise 1.5</a></li>
  <li><a href="#exercise-1.6" id="toc-exercise-1.6" class="nav-link" data-scroll-target="#exercise-1.6">Exercise 1.6</a></li>
  <li><a href="#exercise-1.7" id="toc-exercise-1.7" class="nav-link" data-scroll-target="#exercise-1.7">Exercise 1.7</a></li>
  </ul></li>
  <li><a href="#multitrait-multimethod-models" id="toc-multitrait-multimethod-models" class="nav-link" data-scroll-target="#multitrait-multimethod-models">Multitrait-multimethod models</a>
  <ul class="collapse">
  <li><a href="#exercise-1.8" id="toc-exercise-1.8" class="nav-link" data-scroll-target="#exercise-1.8">Exercise 1.8</a></li>
  <li><a href="#exercise-1.9" id="toc-exercise-1.9" class="nav-link" data-scroll-target="#exercise-1.9">Exercise 1.9</a></li>
  </ul></li>
  <li><a href="#quasi-simplex-model" id="toc-quasi-simplex-model" class="nav-link" data-scroll-target="#quasi-simplex-model">Quasi-simplex model</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Estimating measurement error (variance) in survey questions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="preliminaries" class="level2">
<h2 class="anchored" data-anchor-id="preliminaries">Preliminaries</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>This is lavaan 0.6-15
lavaan is FREE software! Please report any bugs.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lavaan'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:psych':

    cor2cov</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semTools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code> </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>###############################################################################</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>This is semTools 0.5-6</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>All users of R (or SEM) are invited to submit functions or ideas for functions.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>###############################################################################</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'semTools'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:psych':

    reliability, skew</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ ggplot2::%+%()     masks psych::%+%()
✖ ggplot2::alpha()   masks psych::alpha()
✖ readr::clipboard() masks semTools::clipboard()
✖ dplyr::filter()    masks stats::filter()
✖ dplyr::lag()       masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Load data from ESS</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="fu">url</span>(<span class="st">"http://daob.nl/files/SURV730/ess7_health.rdata"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="a-first-look-at-the-european-social-survey-data" class="level2">
<h2 class="anchored" data-anchor-id="a-first-look-at-the-european-social-survey-data">A first look at the European Social Survey data</h2>
<p>In the <a href="http://www.europeansocialsurvey.org/data/download.html?r=7">European Social Survey round 7</a>, data have been collected on 28,221 European’s health (among many other topics). I have downloaded and recoded some of these data. You have them available in the R prompt as <code>ess7_health</code>.</p>
<p>This dataset has the following variables in it:</p>
<ul>
<li>dshltgp : DISCUSSED HEALTH, LAST 12 MONTHS: GENERAL PRACTITIONER</li>
<li>dosprt : DO SPORTS OR OTHER PHYSICAL ACTIVITY, HOW MANY OF LAST 7 DAYS</li>
<li>alcfreq : HOW OFTEN DRINK ALCOHOL</li>
<li>etfruit : HOW OFTEN EAT FRUIT, EXCLUDING DRINKING JUICE</li>
<li>eatveg : HOW OFTEN EAT VEGETABLES OR SALAD, EXCLUDING POTATOES</li>
<li>health : SUBJECTIVE GENERAL HEALTH</li>
<li>happy : HOW HAPPY ARE YOU</li>
<li>slprl : SLEEP WAS RESTLESS, HOW OFTEN PAST WEEK</li>
<li>agea : Age</li>
<li>eisced : Education level</li>
<li>brncntr : BORN IN COUNTRY</li>
<li>smoke : Whether person currently smokes (recode of ESS variable CGTSMKE)</li>
<li>BMI : Body mass index (recode of ESS variables HEIGHT and WEIGHT)</li>
<li>health_problems : Number of health problems (recode of ESS variables HLTHPRxx)</li>
</ul>
<p>You may want to <em>copy-paste this list into a text file for future reference</em>.</p>
<p>See the link above for the full questionnaire, and the <a href="http://www.europeansocialsurvey.org/docs/round7/survey/ESS7_appendix_a7_e03_0.pdf">ESS “variables and questions” Appendix</a> for a full list of variables and their names and possible values.</p>
<section id="exercise-1.1" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.1">Exercise 1.1</h3>
<p>Check out the summary of <code>ess7_health</code>.</p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ess7_health)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    dshltgp         dosprt       alcfreq        etfruit         eatveg    
 Min.   :1.00   Min.   :0.0   Min.   :1.00   Min.   :1.00   Min.   :1.00  
 1st Qu.:1.00   1st Qu.:1.0   1st Qu.:3.00   1st Qu.:2.00   1st Qu.:3.00  
 Median :2.00   Median :3.0   Median :4.00   Median :3.00   Median :3.00  
 Mean   :1.74   Mean   :3.3   Mean   :4.22   Mean   :3.15   Mean   :3.13  
 3rd Qu.:2.00   3rd Qu.:6.0   3rd Qu.:6.00   3rd Qu.:4.00   3rd Qu.:4.00  
 Max.   :2.00   Max.   :7.0   Max.   :7.00   Max.   :7.00   Max.   :7.00  
                NA's   :242   NA's   :165    NA's   :31     NA's   :34    
     health         happy           slprl           agea         eisced    
 Min.   :0.00   Min.   : 1.00   Min.   :1.00   Min.   : 14   Min.   :2.00  
 1st Qu.:2.00   1st Qu.: 8.00   1st Qu.:1.00   1st Qu.: 34   1st Qu.:4.00  
 Median :3.00   Median : 9.00   Median :2.00   Median : 49   Median :5.00  
 Mean   :2.86   Mean   : 8.53   Mean   :1.73   Mean   : 49   Mean   :4.97  
 3rd Qu.:3.00   3rd Qu.:10.00   3rd Qu.:2.00   3rd Qu.: 64   3rd Qu.:6.00  
 Max.   :4.00   Max.   :11.00   Max.   :4.00   Max.   :114   Max.   :9.00  
 NA's   :25     NA's   :84      NA's   :87     NA's   :53    NA's   :98    
    brncntr         smoke            BMI      health_problems
 Min.   :1.00   Min.   :0.000   Min.   :0     Min.   :1.1    
 1st Qu.:1.00   1st Qu.:0.000   1st Qu.:0     1st Qu.:1.1    
 Median :1.00   Median :0.000   Median :0     Median :1.1    
 Mean   :1.11   Mean   :0.237   Mean   :0     Mean   :1.1    
 3rd Qu.:1.00   3rd Qu.:0.000   3rd Qu.:0     3rd Qu.:1.2    
 Max.   :2.00   Max.   :1.000   Max.   :0     Max.   :1.7    
 NA's   :11                     NA's   :789   NA's   :2051   </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="criterion-correlations" class="level2">
<h2 class="anchored" data-anchor-id="criterion-correlations">Criterion correlations</h2>
<p>In this exercise, you will start by reproducing the “criterion correlations” for discussing your health with a general practiction (GP) from the slides. Then you will look at other variables in the dataset.</p>
<p>Note that the example code uses <code>dplyr</code> pipes, the <code>select</code> function, and friends. This is not mandatory but just easier to read. See <a href="https://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html" class="uri">https://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html</a> if you’d like to find out more about using <code>dplyr</code>.</p>
<p>Possibly helpful: the <a href="http://www.europeansocialsurvey.org/docs/round7/survey/ESS7_appendix_a7_e03_0.pdf">ESS “variables and questions” Appendix</a> for a full list of variables and their names and possible values.</p>
<section id="exercise-1.2" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.2">Exercise 1.2</h3>
<ol type="a">
<li>Correlate health discussion with the GP with the following variables: doing sports, sleeping problems, body-mass index, and age. Check this gives the same result as in the slides</li>
<li>Look at more “criterion” variables: eating fruit and vegetables, happiness, education level, and being born in the country of residence</li>
<li>Do the correlations you find agree with the expectations of the “nomological net” around “visiting the GP”?</li>
</ol>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
I need a hint!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>You can look at correlations with additional variables by adding these to the <code>select</code> statement</li>
<li>Remember R code is cAsE SENSITIVE and check for any typos (note most variable names here are in lower case)</li>
<li>If you need to know more about the variables, check out the Appendix linked above</li>
<li>Check that the code provided to output only the correlations with GP, in alphabetical order, is used for both parts</li>
</ul>
<p>A starting point for the code is below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ess7_health is available in your workspace</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlate discussing health with GP with the following variables: </span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   doing sports, sleeping problems, body-mass index, and age</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   (the argument "pairwise.complete.obs" for the `cor` function </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#       deletes missing values for each pair of variables)</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>criterion_slides <span class="ot">&lt;-</span> ess7_health <span class="sc">%&gt;%</span> </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(dshltgp, dosprt, <span class="sc">&lt;</span>complete this<span class="sc">&gt;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>(<span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># To make it easier to check your answer, </span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   sort by name and output only correlations with GP: </span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>criterion_slides <span class="ot">&lt;-</span> </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  criterion_slides[<span class="st">"dshltgp"</span>, <span class="fu">sort</span>(<span class="fu">colnames</span>(criterion_slides)[<span class="sc">-</span><span class="dv">1</span>])] </span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>criterion_slides</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Now correlate with eating fruit and vegetables, happiness, </span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   education level, and being born in the country of residence</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="co"># And assign the result to criterion_extra</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>criterion_extra <span class="ot">&lt;-</span> <span class="er">&lt;</span>complete this<span class="sc">&gt;</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># To make it easier to check your answer, </span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sort by name and output only correlations with GP: </span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>criterion_extra <span class="ot">&lt;-</span> </span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>  criterion_extra[<span class="st">"dshltgp"</span>, </span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">sort</span>(<span class="fu">colnames</span>(criterion_extra)[<span class="sc">-</span><span class="dv">1</span>])] </span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>criterion_extra</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlate discussing health with GP with the following variables: doing sports, age, sleeping problems, and body-mass index</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>criterion_slides <span class="ot">&lt;-</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  ess7_health <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dshltgp, dosprt, agea, slprl, BMI) <span class="sc">%&gt;%</span> </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>(<span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>) </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>criterion_slides <span class="ot">&lt;-</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  criterion_slides[<span class="st">"dshltgp"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">sort</span>(<span class="fu">colnames</span>(criterion_slides)[<span class="sc">-</span><span class="dv">1</span>])] </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>criterion_slides</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    agea      BMI   dosprt    slprl 
 0.14655  0.07226 -0.04612  0.10704 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlate with eating fruit and vegetables, happiness, eduction level, and being born in the country of residence</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>criterion_extra <span class="ot">&lt;-</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  ess7_health <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(dshltgp, etfruit, eatveg, happy, eisced, brncntr) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cor</span>(<span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>criterion_extra <span class="ot">&lt;-</span> </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  criterion_extra[<span class="st">"dshltgp"</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">sort</span>(<span class="fu">colnames</span>(criterion_extra)[<span class="sc">-</span><span class="dv">1</span>])] </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>criterion_extra</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  brncntr    eatveg    eisced   etfruit     happy 
-0.009341 -0.025151 -0.043128 -0.045863 -0.036161 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-1.3" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.3">Exercise 1.3</h3>
<p>Looking at the criterion correlations, one of them is close to zero. To which variable does this correlation correspond?</p>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Answer: “Born in country” has a correlation close to zero with GP visits.</p>
<p>It is also not clear what we would have expected here. Maybe immigrants are unhealthier and need more treatment (negative association), or maye they are less able to find their way to the GP (positive association).</p>
</div>
</div>
</div>
</section>
<section id="exercise-1.4" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.4">Exercise 1.4</h3>
<p>What can we conclude from the fact that the criterion correlation with “born in country” is so small?</p>
<p>Choose one:</p>
<pre><code>A. The validity of this question is low
B. The reliability of this question is low
C. The criterion variable has low validity 
D. Nothing</code></pre>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
I need a hint!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Think back to the disadvantages of criterion validity from the slides.</p>
</div>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The answer is D: nothing. It just doesn’t really help to know this at all.</p>
</div>
</div>
</div>
</section>
</section>
<section id="internal-consistency-with-factor-analysis" class="level2">
<h2 class="anchored" data-anchor-id="internal-consistency-with-factor-analysis">Internal consistency with factor analysis</h2>
<p>As explained in the lectures, when there are no repeated measures of the same <em>question</em>, we can use repeated measures of the same <em>concept</em> to get at the “internal consistency”.</p>
<p>This code uses the <code>cfa</code> function from the <code>lavaan</code> library, which is very flexible. The <a href="http://lavaan.ugent.be/tutorial/syntax1.html">model syntax</a> is relatively easy to read: in this example, we only need to define which variables are regressed on the latent variable (concept) <code>health_latent</code>. This is done by using the <code>=~</code> operator, which means “is measured by”.</p>
<p>Note that the results here may be different from those in the slides.</p>
<p>If you would like to learn more on doing confirmatory factor analysis in R using <code>lavaan</code>, the tutorial at <a href="http://lavaan.ugent.be/tutorial/cfa.html" class="uri">http://lavaan.ugent.be/tutorial/cfa.html</a> is a good place to start. I can also recommend the book by Beaujean (see <a href="http://lavaan.ugent.be/resources/books.html">here</a>) with accompanying R code.</p>
<section id="exercise-1.5" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.5">Exercise 1.5</h3>
<ol type="a">
<li>Estimate the internal consistency coefficient of “discussing health with GP” based on the same three indicators as in the slides: GP, self-rated health, and sleeping problems.</li>
<li>Change the code to also use the number of reported health problems as an indicator</li>
</ol>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
I need a hint!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Here is some sample code you can adapt to your needs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the cfa function from the lavaan package to fit a </span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   confirmatory factor analysis (CFA) model that gives the </span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   internal consistency  coefficients as "standardized loadings" (or "coefficients")  </span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># The latent concept "health_latent" is posited to be </span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co">#       the common cause of these three variables ("indicators")</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="st">"health_latent =~ dshltgp + health + slprl"</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model in lavaan and assign the result to a variable</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">cfa</span>(model, <span class="at">data =</span> ess7_health)</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the output of the CFA </span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   standardized loadings will be the consistency coefficients </span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit, <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co"># A different way of getting at these is:</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>consistencies <span class="ot">&lt;-</span> <span class="fu">standardizedSolution</span>(fit) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(op <span class="sc">==</span> <span class="st">"=~"</span>)</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>consistencies</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the analysis so health_problems is also included as an indicator.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the cfa function from the lavaan package to fit a </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   confirmatory factor analysis (CFA) model that gives the </span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   internal consistency  coefficients as "standardized loadings" (or "coefficients")  </span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The latent concept "health_latent" is posited to be </span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">#       the common cause of these three variables ("indicators")</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="st">"health_latent =~ dshltgp + health + slprl + health_problems"</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model in lavaan and assign the result to a variable</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">cfa</span>(model, <span class="at">data =</span> ess7_health)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the output of the CFA </span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   standardized loadings will be the consistency coefficients </span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit, <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6.15 ended normally after 28 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                         8

                                                  Used       Total
  Number of observations                         26073       28221

Model Test User Model:
                                                      
  Test statistic                                15.754
  Degrees of freedom                                 2
  P-value (Chi-square)                           0.000

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model          Structured

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  health_latent =~                                                      
    dshltgp           1.000                               0.121    0.278
    health           -4.796    0.145  -33.009    0.000   -0.581   -0.664
    slprl             2.978    0.096   31.158    0.000    0.361    0.432
    health_problms    0.505    0.015   33.161    0.000    0.061    0.639

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .dshltgp           0.175    0.002  108.734    0.000    0.175    0.923
   .health            0.428    0.008   55.508    0.000    0.428    0.559
   .slprl             0.566    0.006   98.779    0.000    0.566    0.813
   .health_problms    0.005    0.000   61.084    0.000    0.005    0.592
    health_latent     0.015    0.001   18.197    0.000    1.000    1.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A different way of getting at these is:</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>consistencies <span class="ot">&lt;-</span> <span class="fu">standardizedSolution</span>(fit) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(op <span class="sc">==</span> <span class="st">"=~"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>consistencies</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            lhs op             rhs est.std    se      z pvalue ci.lower
1 health_latent =~         dshltgp   0.278 0.007  37.78      0    0.264
2 health_latent =~          health  -0.664 0.007 -88.70      0   -0.678
3 health_latent =~           slprl   0.432 0.007  62.30      0    0.419
4 health_latent =~ health_problems   0.639 0.007  86.59      0    0.624
  ci.upper
1    0.293
2   -0.649
3    0.446
4    0.653</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise-1.6" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.6">Exercise 1.6</h3>
<ol type="a">
<li>List the assumptions necessary to be able interpret the <code>Std.all</code> coefficients as the “internal consistency” of the items.</li>
<li>Why is one of the coefficients of an opposite sign to the others?</li>
<li>Assuming the assumptions all hold, which item is the best measure of the underlying latent construct?</li>
</ol>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li>The assumptions are:</li>
</ol>
<ul>
<li>No correlated error</li>
<li>True scores all measure same construct</li>
<li>No differential error</li>
</ul>
<ol start="2" type="a">
<li>Because three of the indicators indicate <em>bad</em> health, while one (<code>health</code>) indicates <em>good</em> health.</li>
<li>The indicator <code>health</code>. The indicator <code>health_problems</code> is very close in quality as an indicator of the LV.</li>
</ol>
</div>
</div>
</div>
</section>
<section id="exercise-1.7" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.7">Exercise 1.7</h3>
<p>After an additional indicator was used to measure the latent concept “health_latent”, the internal consistency estimate for “GP” changed. What could be the explanation?</p>
<pre><code>A. Sampling fluctuations
B. Violation of assumptions
C. Both sampling and assumption violations
D. None of the above</code></pre>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>If the model is true (so no assumptions are violated) and there is infinite data, using more indicators will not change the consistency estimate. So either sampling or assumption violations can cause this change (Answer C).</p>
</div>
</div>
</div>
</section>
</section>
<section id="multitrait-multimethod-models" class="level2">
<h2 class="anchored" data-anchor-id="multitrait-multimethod-models">Multitrait-multimethod models</h2>
<p>The correlations between the variables measured in the multitrait-multimethod (MTMM) experiment from the slides from Saris &amp; Gallhofer are plotted below (the matrix itself will be called <code>R</code> here).</p>
<p>The “correlation plot” below shows these as larger or smaller circles. The larger the circle, the stronger the correlation (positive or negative).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="exercise-1_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Click here to show correlations in a table
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">T1M1</th>
<th style="text-align: right;">T2M1</th>
<th style="text-align: right;">T3M1</th>
<th style="text-align: right;">T1M2</th>
<th style="text-align: right;">T2M2</th>
<th style="text-align: right;">T3M2</th>
<th style="text-align: right;">T1M3</th>
<th style="text-align: right;">T2M3</th>
<th style="text-align: right;">T3M3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">T1M1</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.481</td>
<td style="text-align: right;">0.373</td>
<td style="text-align: right;">-0.626</td>
<td style="text-align: right;">-0.429</td>
<td style="text-align: right;">-0.453</td>
<td style="text-align: right;">-0.502</td>
<td style="text-align: right;">-0.370</td>
<td style="text-align: right;">-0.336</td>
</tr>
<tr class="even">
<td style="text-align: left;">T2M1</td>
<td style="text-align: right;">0.481</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.552</td>
<td style="text-align: right;">-0.422</td>
<td style="text-align: right;">-0.663</td>
<td style="text-align: right;">-0.495</td>
<td style="text-align: right;">-0.347</td>
<td style="text-align: right;">-0.608</td>
<td style="text-align: right;">-0.406</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T3M1</td>
<td style="text-align: right;">0.373</td>
<td style="text-align: right;">0.552</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">-0.410</td>
<td style="text-align: right;">-0.532</td>
<td style="text-align: right;">-0.669</td>
<td style="text-align: right;">-0.332</td>
<td style="text-align: right;">-0.399</td>
<td style="text-align: right;">-0.566</td>
</tr>
<tr class="even">
<td style="text-align: left;">T1M2</td>
<td style="text-align: right;">-0.626</td>
<td style="text-align: right;">-0.422</td>
<td style="text-align: right;">-0.410</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.642</td>
<td style="text-align: right;">0.612</td>
<td style="text-align: right;">0.548</td>
<td style="text-align: right;">0.429</td>
<td style="text-align: right;">0.406</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T2M2</td>
<td style="text-align: right;">-0.429</td>
<td style="text-align: right;">-0.663</td>
<td style="text-align: right;">-0.532</td>
<td style="text-align: right;">0.642</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.693</td>
<td style="text-align: right;">0.436</td>
<td style="text-align: right;">0.653</td>
<td style="text-align: right;">0.471</td>
</tr>
<tr class="even">
<td style="text-align: left;">T3M2</td>
<td style="text-align: right;">-0.453</td>
<td style="text-align: right;">-0.495</td>
<td style="text-align: right;">-0.669</td>
<td style="text-align: right;">0.612</td>
<td style="text-align: right;">0.693</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.438</td>
<td style="text-align: right;">0.466</td>
<td style="text-align: right;">0.638</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T1M3</td>
<td style="text-align: right;">-0.502</td>
<td style="text-align: right;">-0.347</td>
<td style="text-align: right;">-0.332</td>
<td style="text-align: right;">0.548</td>
<td style="text-align: right;">0.436</td>
<td style="text-align: right;">0.438</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.556</td>
<td style="text-align: right;">0.514</td>
</tr>
<tr class="even">
<td style="text-align: left;">T2M3</td>
<td style="text-align: right;">-0.370</td>
<td style="text-align: right;">-0.608</td>
<td style="text-align: right;">-0.399</td>
<td style="text-align: right;">0.429</td>
<td style="text-align: right;">0.653</td>
<td style="text-align: right;">0.466</td>
<td style="text-align: right;">0.556</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.558</td>
</tr>
<tr class="odd">
<td style="text-align: left;">T3M3</td>
<td style="text-align: right;">-0.336</td>
<td style="text-align: right;">-0.406</td>
<td style="text-align: right;">-0.566</td>
<td style="text-align: right;">0.406</td>
<td style="text-align: right;">0.471</td>
<td style="text-align: right;">0.638</td>
<td style="text-align: right;">0.514</td>
<td style="text-align: right;">0.558</td>
<td style="text-align: right;">1.000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<p>The variables have been renamed to show which “trait” (survey question) and “method” (way of asking the question) they correspond to. For example, T1M1 might refer to “satisfaction with the economy” (T1) measured on a four point scale (M1), and T1M2 to “satisfaction with the economy” (T1) measured on an eleven point scale (M2).</p>
<section id="exercise-1.8" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.8">Exercise 1.8</h3>
<p>Which correlations from the MTMM experiment are strongest?</p>
<pre><code>A. Those between different questions measured in the same way ("heterotrait-monomethod")
B. Those between the same questions measured in different ways ("monotrait-heteromethod")
C. Those between different questions measured in different ways ("heteromethod-heterotrait")
D. All the correlations are the same</code></pre>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
I need a hint!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Try to find the different groups of correlations mentioned in the picture. Which group has the largest circles overall?</p>
</div>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Answer: B. Those between the same questions measured in different ways (“monotrait-heteromethod”)</p>
<p>This seems like a good thing. This classification of groups of correlations is due to Campbell and Fiske (1959), who based their assessment of the measurement properties purely on the type of consideration you have just done.</p>
</div>
</div>
</div>
</section>
<section id="exercise-1.9" class="level3">
<h3 class="anchored" data-anchor-id="exercise-1.9">Exercise 1.9</h3>
<p>MTMM <em>models</em> can be applied to MTMM <em>data</em> to obtain estimates of the reliability coefficients and method effects.</p>
<p>Since the MTMM <em>design</em> crosses “traits” (survey questions in our case) with “methods” (ways of asking those questions), this is a matter of specifying the right indicator for each factor in a factor analysis.</p>
<p>This time, due to the study design, the interpretation of the standardized factor loadings is that they represent “reliability coefficients” and “method effects” of the questions studied.</p>
<ol type="a">
<li>Formulate the MTMM model for the correlations in the MTMM correlation matrix <code>R</code> by replacing the <code>...</code> dots in the code below;</li>
<li>Run the model to obtain estimates using the ready-made code;</li>
<li>Interpret the results by looking at the standardized estimates.</li>
</ol>
<p><em>HINT</em>: The standardized coefficients on the T* factors are the reliability coefficient estimates; The standardized coefficients on the M* factors are the method effect estimates.</p>
<section id="ready-made-code-for-mtmm-model" class="level4">
<h4 class="anchored" data-anchor-id="ready-made-code-for-mtmm-model">Ready-made code for MTMM model</h4>
<p>Adjust the code below to answer the questions above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the correlation matrix:</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>R</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the MTMM model below (see slides)</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="st">  # Fill in the measurement of the traits and methods.</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="st">  # Note that the names are T1M1, T1M2, etc.</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="st">  # Model for the methods: prefix every variable with 1*, </span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="st">  #         e.g use M1 =~ 1*T1M1 + ...</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="st">  M1 =~ ...                         # Replace the dots </span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="st">  M2 =~ ...</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="st">  M3 =~ ...</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="st">  # Model for the traits: don't prefix indicators with anything</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="st">  T1 =~ ...</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="st">  T2 =~ ...</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="st">  T3 =~ ...</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="st">  # This specifies that the traits correlate. You can leave it as-is</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="st">  T1 ~~ T2 + T3</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a><span class="st">  T2 ~~ T3</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a><span class="st">  # This identifies the latent trait variables by </span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a><span class="st">  #     standardizing them to variance 1. You can leave it as-is.</span></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a><span class="st">  T1 ~~ 1*T1</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a><span class="st">  T2 ~~ 1*T2</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a><span class="st">  T3 ~~ 1*T3</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model as a CFA using lavaan</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lavaan</span>(model, <span class="at">sample.cov =</span> R, </span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>              <span class="at">sample.nobs =</span> <span class="dv">424</span>, </span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>              <span class="at">auto.cov.lv.x =</span> <span class="cn">FALSE</span>, </span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>              <span class="at">auto.fix.first =</span> <span class="cn">FALSE</span>, <span class="at">auto.var =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the results</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit, <span class="at">standardize =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a><span class="co"># The standardized loadings (those with op "=~") are </span></span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a><span class="co">#       the reliability coefficients (for Tx) </span></span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a><span class="co">#       and method effects (for Mx):</span></span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>std_estimates <span class="ot">&lt;-</span> <span class="fu">standardizedSolution</span>(fit) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(op <span class="sc">==</span> <span class="st">"=~"</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(lhs, rhs)</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>std_estimates</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
I need a hint!
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Use the names of the variables: “T1M1” belongs to trait factor T1 and method factor M1, for instance</li>
<li>Make sure the method indicators each have their loading set to 1 by using the 1* suggested</li>
<li>Make sure the original code for the model is not accidentally removed: only change the dots.</li>
</ul>
</div>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Solution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the correlation matrix:</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       T1M1   T2M1   T3M1   T1M2   T2M2   T3M2   T1M3   T2M3   T3M3
T1M1  1.000  0.481  0.373 -0.626 -0.429 -0.453 -0.502 -0.370 -0.336
T2M1  0.481  1.000  0.552 -0.422 -0.663 -0.495 -0.347 -0.608 -0.406
T3M1  0.373  0.552  1.000 -0.410 -0.532 -0.669 -0.332 -0.399 -0.566
T1M2 -0.626 -0.422 -0.410  1.000  0.642  0.612  0.548  0.429  0.406
T2M2 -0.429 -0.663 -0.532  0.642  1.000  0.693  0.436  0.653  0.471
T3M2 -0.453 -0.495 -0.669  0.612  0.693  1.000  0.438  0.466  0.638
T1M3 -0.502 -0.347 -0.332  0.548  0.436  0.438  1.000  0.556  0.514
T2M3 -0.370 -0.608 -0.399  0.429  0.653  0.466  0.556  1.000  0.558
T3M3 -0.336 -0.406 -0.566  0.406  0.471  0.638  0.514  0.558  1.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the MTMM model below (see slides)</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="st">M1 =~ 1*T1M1 + 1*T2M1 + 1*T3M1</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="st">M2 =~ 1*T1M2 + 1*T2M2 + 1*T3M2</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="st">M3 =~ 1*T1M3 + 1*T2M3 + 1*T3M3</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="st">T1 =~ T1M1 + T1M2 + T1M3</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="st">T2 =~ T2M1 + T2M2 + T2M3</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="st">T3 =~ T3M1 + T3M2 + T3M3</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="st">T1 ~~ T2 + T3</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="st">T2 ~~ T3</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="st">T1 ~~ 1*T1</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="st">T2 ~~ 1*T2</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="st">T3 ~~ 1*T3"</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model as a CFA using lavaan</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lavaan</span>(model, <span class="at">sample.cov =</span> R, </span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>              <span class="at">sample.nobs =</span> <span class="dv">424</span>, </span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>              <span class="at">auto.cov.lv.x =</span> <span class="cn">FALSE</span>, </span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">auto.fix.first =</span> <span class="cn">FALSE</span>, <span class="at">auto.var =</span> <span class="cn">TRUE</span>)</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the results</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit, <span class="at">standardize =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6.15 ended normally after 29 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        24

  Number of observations                           424

Model Test User Model:
                                                      
  Test statistic                                40.566
  Degrees of freedom                                21
  P-value (Chi-square)                           0.006

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model          Structured

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  M1 =~                                                                 
    T1M1              1.000                               0.274    0.272
    T2M1              1.000                               0.274    0.276
    T3M1              1.000                               0.274    0.272
  M2 =~                                                                 
    T1M2              1.000                               0.364    0.370
    T2M2              1.000                               0.364    0.368
    T3M2              1.000                               0.364    0.367
  M3 =~                                                                 
    T1M3              1.000                               0.424    0.425
    T2M3              1.000                               0.424    0.425
    T3M3              1.000                               0.424    0.421
  T1 =~                                                                 
    T1M1              0.756    0.047   16.248    0.000    0.756    0.749
    T1M2             -0.803    0.044  -18.356    0.000   -0.803   -0.814
    T1M3             -0.676    0.046  -14.772    0.000   -0.676   -0.677
  T2 =~                                                                 
    T2M1              0.793    0.043   18.508    0.000    0.793    0.798
    T2M2             -0.852    0.041  -20.806    0.000   -0.852   -0.860
    T2M3             -0.761    0.043  -17.861    0.000   -0.761   -0.762
  T3 =~                                                                 
    T3M1              0.771    0.045   17.273    0.000    0.771    0.766
    T3M2             -0.850    0.042  -20.313    0.000   -0.850   -0.855
    T3M3             -0.736    0.044  -16.691    0.000   -0.736   -0.731

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  T1 ~~                                                                 
    T2                0.693    0.033   20.785    0.000    0.693    0.693
    T3                0.670    0.035   18.881    0.000    0.670    0.670
  T2 ~~                                                                 
    T3                0.742    0.029   25.978    0.000    0.742    0.742

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    T1                1.000                               1.000    1.000
    T2                1.000                               1.000    1.000
    T3                1.000                               1.000    1.000
   .T1M1              0.371    0.040    9.345    0.000    0.371    0.365
   .T2M1              0.283    0.031    9.068    0.000    0.283    0.287
   .T3M1              0.343    0.035    9.720    0.000    0.343    0.339
   .T1M2              0.195    0.031    6.311    0.000    0.195    0.200
   .T2M2              0.123    0.023    5.355    0.000    0.123    0.125
   .T3M2              0.134    0.026    5.195    0.000    0.134    0.135
   .T1M3              0.361    0.037    9.767    0.000    0.361    0.361
   .T2M3              0.238    0.029    8.319    0.000    0.238    0.239
   .T3M3              0.293    0.032    9.115    0.000    0.293    0.289
    M1                0.075    0.022    3.491    0.000    1.000    1.000
    M2                0.133    0.023    5.787    0.000    1.000    1.000
    M3                0.180    0.025    7.291    0.000    1.000    1.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The standardized loadings are the reliability coefficients (for Tx) </span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">#       and method effects (for Mx):</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>std_estimates <span class="ot">&lt;-</span> <span class="fu">standardizedSolution</span>(fit) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(op <span class="sc">==</span> <span class="st">"=~"</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(lhs, rhs)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>std_estimates</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   lhs op  rhs est.std    se       z pvalue ci.lower ci.upper
1   M1 =~ T1M1   0.272 0.039   6.944      0    0.195    0.349
2   M1 =~ T2M1   0.276 0.040   6.930      0    0.198    0.354
3   M1 =~ T3M1   0.272 0.039   6.936      0    0.195    0.349
4   M2 =~ T1M2   0.370 0.032  11.376      0    0.306    0.433
5   M2 =~ T2M2   0.368 0.033  11.280      0    0.304    0.432
6   M2 =~ T3M2   0.367 0.032  11.307      0    0.303    0.430
7   M3 =~ T1M3   0.425 0.029  14.560      0    0.367    0.482
8   M3 =~ T2M3   0.425 0.030  14.398      0    0.367    0.483
9   M3 =~ T3M3   0.421 0.029  14.450      0    0.364    0.478
10  T1 =~ T1M1   0.749 0.030  25.189      0    0.691    0.808
11  T1 =~ T1M2  -0.814 0.026 -31.180      0   -0.865   -0.763
12  T1 =~ T1M3  -0.677 0.032 -21.369      0   -0.739   -0.615
13  T2 =~ T2M1   0.798 0.024  33.449      0    0.751    0.845
14  T2 =~ T2M2  -0.860 0.020 -42.366      0   -0.900   -0.820
15  T2 =~ T2M3  -0.762 0.025 -30.881      0   -0.810   -0.713
16  T3 =~ T3M1   0.766 0.027  28.836      0    0.714    0.818
17  T3 =~ T3M2  -0.855 0.022 -39.184      0   -0.897   -0.812
18  T3 =~ T3M3  -0.731 0.027 -26.880      0   -0.784   -0.677</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>If you managed to get this, excellent job! MTMM modeling can be quite confusing, especially at the beginning. With practice it will become more natural, and can be a powerful tool in your measurement error arsenal.</p>
</section>
</section>
</section>
<section id="quasi-simplex-model" class="level2">
<h2 class="anchored" data-anchor-id="quasi-simplex-model">Quasi-simplex model</h2>
<p>These models can be used to estimate the measurement error variance in longitudinal data. Such data are available from the <a href="https://www.lissdata.nl/lissdata/about-panel">LISS panel</a>.</p>
<p>In the slides, error estimation in “internet use” using three timepoints (years 2008-2010) is explained. In the dataset, which is included in the <code>lavaan.survey</code> package as <code>liss</code>, a fourth timepoint, 2011, is also available (<code>cs11d247</code>). Adjust the model to the right to include <code>cs11d247</code> so it also estimates the reliability in 2011.</p>
<p>The full study documentation as well as the raw data are publicly available at <a href="http://www.lissdata.nl/dataarchive/study_units/view/6" class="uri">http://www.lissdata.nl/dataarchive/study_units/view/6</a>. (BTW: LISS is an awesome publicly available longitudinal data source you should definitely check out if you’re ever looking for high-quality social science data)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>